# Obsidian Curator Configuration
# Optimized thresholds for better content capture (August 2024)

# AI Model Configuration
ai_model: "gpt-oss:20b"
models:
  content_curation: "phi3:mini"
  quality_analysis: "llama3.1:8b"
  theme_classification: "llama3.1:8b"
  structure_analysis: "phi3:mini"
  fallback: "gpt-oss:20b"

# Model Routing Cascade Configuration
routing:
  enabled: true
  stages:
    - model: "phi3:mini"
      max_latency_ms: 800
      gray_margin: 0.05
    - model: "llama3.1:8b"
      max_latency_ms: 2500
      gray_margin: 0.03
    - model: "gpt-oss:20b"
      gray_margin: 0.02
  log_route: true

# Borderline Triage Configuration
triage:
  enabled: true
  margin: 0.05
  dimensions: ["overall", "relevance", "professional_writing"]
  persist_path: "metadata/triage.jsonl"
  auto_escalate_model: "llama3.1:8b"

# Reasoning Level
reasoning_level: "low"

# Quality Thresholds (0.0 - 1.0) - Optimized for better content capture
quality_threshold: 0.65  # Minimum overall quality score for curation (lowered for broader capture)
relevance_threshold: 0.65  # Minimum relevance score for curation (maintained for precision)
analytical_depth_threshold: 0.65  # Minimum analytical depth for publication-ready content
professional_writing_threshold: 0.65  # Minimum professional writing score for curation (lowered from 0.70)

# Content-Type Specific Rules
content_types:
  PERSONAL_NOTE:
    min_length: 200
    weights: 
      professional_writing: 1.2
      clarity: 1.1
    thresholds: 
      overall: 0.66
      relevance: 0.65
  WEB_CLIPPING:
    min_length: 500
    weights: 
      credibility: 1.2
      evidence_quality: 1.2
    thresholds: 
      overall: 0.70
      relevance: 0.67
  ACADEMIC_PAPER:
    min_length: 400
    weights: 
      analytical_depth: 1.2
      synthesis_ability: 1.1
    thresholds: 
      overall: 0.68
      relevance: 0.66
  PROFESSIONAL_PUBLICATION:
    min_length: 300
    weights:
      professional_writing: 1.3
      analytical_depth: 1.2
    thresholds:
      overall: 0.72
      relevance: 0.70
  DEFAULT:
    min_length: 300
    weights: {}
    thresholds: 
      overall: 0.65
      relevance: 0.65

# Content Processing
min_content_length: 300   # Minimum content length (characters) for useful notes (lowered for valuable short notes)
max_tokens: 2000          # Maximum tokens for AI analysis

# Theme Configuration
target_themes: []  # Empty list means all themes are considered
theme_similarity_threshold: 0.3

# Processing Options
preserve_metadata: true
clean_html: true
remove_duplicates: true

# Sample Size (for testing)
sample_size: 20
